<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>利用即时函数处理迭代问题</title>
</head>
<body>
    <div>DIV 1</div>
    <div>DIV 2</div>
    <div>DIV 3</div>

    <script>
        var div = document.getElementsByTagName("div");

        for(var i=0; i<div.length; i++){
            (function(n){
                div[n].addEventListener("click",function(){
                    alert("div #" + n + " was clicked.");
                },false);
            })(i);
        }
    </script>
</body>
</html>